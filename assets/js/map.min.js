window.map={mapType:"ROADMAP",mapZoom:10,mapStyle:"AVOIR-default",mapScroll:"on",marker:"show",label:"<strong>8th avenue, New York</strong>",lat:"40.740957",lng:"-74.002119",markerURL:"assets/images/marker.png"},jQuery(document).ready(function(e){e(".google-map").each(function(){function t(e){var t,r=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],l={zoom:parseInt(s.mapZoom,13),center:e,scrollwheel:!1,draggable:"on"===s.mapScroll,mapTypeId:google.maps.MapTypeId[s.mapType]};t=new google.maps.Map(o[0],l);var i;if("AVOIR-default"===s.mapStyle&&t.setOptions({styles:r}),"show"===s.marker){var n={url:s.markerURL,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,30)};i=new a({label:s.label,position:e,icon:n,map:t})}}var o=e(this),s=window[o.attr("id")],r=function(e){this.setValues(e),this.div=document.createElement("div"),this.div.className="map-marker-label"};r.prototype=e.extend(new google.maps.OverlayView,{onAdd:function(){this.getPanes().overlayImage.appendChild(this.div);var e=this;this.listeners=[google.maps.event.addListener(this,"position_changed",function(){e.draw()}),google.maps.event.addListener(this,"text_changed",function(){e.draw()}),google.maps.event.addListener(this,"zindex_changed",function(){e.draw()})]},onRemove:function(){this.div.parentNode.removeChild(this.div);for(var e=0,t=this.listeners.length;t>e;++e)google.maps.event.removeListener(this.listeners[e])},draw:function(){var t,o,s=String(this.get("text")),r=this.marker.icon.anchor,a=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.div.innerHTML=s,this.div.style.position="relative",t=e("div.map-marker-label").outerHeight(),o=e("div.map-marker-label").outerWidth(),this.div.style.left=a.x-o/2+"px",this.div.style.top=a.y-r.y-t-10+"px"}});var a=function(e){google.maps.Marker.apply(this,arguments),e.label&&(this.MarkerLabel=new r({map:this.map,marker:this,text:e.label}),this.MarkerLabel.bindTo("position",this,"position"))};if(a.prototype=e.extend(new google.maps.Marker,{setMap:function(){google.maps.Marker.prototype.setMap.apply(this,arguments),this.MarkerLabel&&this.MarkerLabel.setMap.apply(this.MarkerLabel,arguments)}}),void 0!==s.address){var l=new google.maps.Geocoder;l.geocode({address:s.address},function(e,o){o===google.maps.GeocoderStatus.OK?t(e[0].geometry.location):alert("Geocode was not successful for the following reason: "+o)})}else void 0!==s.lat&&void 0!==s.lng&&t(new google.maps.LatLng(s.lat,s.lng))})});